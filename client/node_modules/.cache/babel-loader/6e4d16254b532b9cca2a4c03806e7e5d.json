{"ast":null,"code":"var _jsxFileName = \"/Users/maa48/github-projects/Clubs-2020/client/src/components/searchTag/index.js\";\nimport React, { useState, useRef, useEffect } from 'react';\nimport styled, { withTheme } from 'styled-components';\nimport { motion } from 'framer-motion';\nimport { useFocused } from '../customHooks/index';\n\nconst SearchTag = ({\n  text,\n  theme,\n  data,\n  setData,\n  objId,\n  dataLimitSize,\n  margin,\n  defaultValue\n}) => {\n  const tagVariants = {\n    active: {\n      color: theme.colors.white,\n      backgroundColor: theme.colors.red\n    },\n    inactive: {\n      color: theme.colors.red,\n      backgroundColor: 'rgba(236, 108, 82, 0.08)'\n    }\n  };\n  const [clicked, setClicked] = useState(defaultClickState);\n  const searchTag = useRef(null);\n  const searchTagFocused = useFocused(searchTag);\n\n  const onKeypress = e => {\n    if (e.keyCode === 13) {\n      searchTag.current.click();\n    }\n  };\n\n  useEffect(() => {\n    if (searchTagFocused) {\n      document.addEventListener('keypress', onKeypress);\n    }\n\n    return () => {\n      document.removeEventListener('keypress', onKeypress);\n    };\n  }, [searchTagFocused]);\n\n  const handleClick = () => {\n    if (!data || !setData || !dataLimitSize) setClicked(!clicked);\n\n    if (data && setData) {\n      let tempData = { ...data\n      };\n\n      if (objId in tempData) {\n        if (clicked) {\n          // Removes Element\n          const index = tempData[objId].indexOf(text);\n          if (index >= -1) tempData[objId].splice(index, 1);\n          setClicked(false); // Adds Element\n        } else {\n          // Limit of number of tags\n          if (dataLimitSize && tempData[objId].length < dataLimitSize) {\n            tempData[objId].push(text);\n            setClicked(true);\n          } // No limit on number of tags\n          else if (!dataLimitSize) {\n              tempData[objId].push(text);\n              setClicked(true);\n            }\n        }\n\n        setData(tempData);\n      } else {\n        console.error('objId not in the obj');\n      }\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(Tag, {\n    margin: margin,\n    ref: searchTag,\n    clicked: clicked,\n    onClick: handleClick,\n    variants: tagVariants,\n    whileTap: {\n      scale: 0.95\n    },\n    initial: \"inactive\",\n    animate: clicked ? 'active' : 'inactive',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 5\n    }\n  }, text ? text : 'no text entered');\n};\n\nconst Tag = styled(motion.button)`\n  display: inline-block;\n  padding: 0.4rem 1rem;\n  font-family: 'Manrope', 'Roboto', 'Arial', 'Helvetica';\n  font-size: 0.9rem;\n  border-radius: 1rem;\n  margin: ${props => props.margin};\n  border: 0.125rem ${props => props.theme.colors.red} solid;\n  outline-color: ${props => props.theme.colors.blue};\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  cursor: pointer;\n  @media only screen and (max-width: 600px) {\n    font-size: 0.75rem;\n  }\n`;\nexport default withTheme(SearchTag);","map":{"version":3,"sources":["/Users/maa48/github-projects/Clubs-2020/client/src/components/searchTag/index.js"],"names":["React","useState","useRef","useEffect","styled","withTheme","motion","useFocused","SearchTag","text","theme","data","setData","objId","dataLimitSize","margin","defaultValue","tagVariants","active","color","colors","white","backgroundColor","red","inactive","clicked","setClicked","defaultClickState","searchTag","searchTagFocused","onKeypress","e","keyCode","current","click","document","addEventListener","removeEventListener","handleClick","tempData","index","indexOf","splice","length","push","console","error","scale","Tag","button","props","blue"],"mappings":"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","sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport styled, { withTheme } from 'styled-components';\nimport { motion } from 'framer-motion';\nimport { useFocused } from '../customHooks/index';\n\nconst SearchTag = ({\n  text,\n  theme,\n  data,\n  setData,\n  objId,\n  dataLimitSize,\n  margin,\n  defaultValue,\n}) => {\n  const tagVariants = {\n    active: { color: theme.colors.white, backgroundColor: theme.colors.red },\n    inactive: {\n      color: theme.colors.red,\n      backgroundColor: 'rgba(236, 108, 82, 0.08)',\n    },\n  };\n  const [clicked, setClicked] = useState(defaultClickState);\n  const searchTag = useRef(null);\n  const searchTagFocused = useFocused(searchTag);\n  const onKeypress = (e) => {\n    if (e.keyCode === 13) {\n      searchTag.current.click();\n    }\n  };\n  useEffect(() => {\n    if (searchTagFocused) {\n      document.addEventListener('keypress', onKeypress);\n    }\n    return () => {\n      document.removeEventListener('keypress', onKeypress);\n    };\n  }, [searchTagFocused]);\n\n  const handleClick = () => {\n    if (!data || !setData || !dataLimitSize) setClicked(!clicked);\n    if (data && setData) {\n      let tempData = { ...data };\n      if (objId in tempData) {\n        if (clicked) {\n          // Removes Element\n          const index = tempData[objId].indexOf(text);\n          if (index >= -1) tempData[objId].splice(index, 1);\n          setClicked(false);\n          // Adds Element\n        } else {\n          // Limit of number of tags\n          if (dataLimitSize && tempData[objId].length < dataLimitSize) {\n            tempData[objId].push(text);\n            setClicked(true);\n          }\n          // No limit on number of tags\n          else if (!dataLimitSize) {\n            tempData[objId].push(text);\n            setClicked(true);\n          }\n        }\n        setData(tempData);\n      } else {\n        console.error('objId not in the obj');\n      }\n    }\n  };\n  return (\n    <Tag\n      margin={margin}\n      ref={searchTag}\n      clicked={clicked}\n      onClick={handleClick}\n      variants={tagVariants}\n      whileTap={{ scale: 0.95 }}\n      initial='inactive'\n      animate={clicked ? 'active' : 'inactive'}\n    >\n      {text ? text : 'no text entered'}\n    </Tag>\n  );\n};\n\nconst Tag = styled(motion.button)`\n  display: inline-block;\n  padding: 0.4rem 1rem;\n  font-family: 'Manrope', 'Roboto', 'Arial', 'Helvetica';\n  font-size: 0.9rem;\n  border-radius: 1rem;\n  margin: ${(props) => props.margin};\n  border: 0.125rem ${(props) => props.theme.colors.red} solid;\n  outline-color: ${(props) => props.theme.colors.blue};\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  cursor: pointer;\n  @media only screen and (max-width: 600px) {\n    font-size: 0.75rem;\n  }\n`;\n\nexport default withTheme(SearchTag);\n"]},"metadata":{},"sourceType":"module"}